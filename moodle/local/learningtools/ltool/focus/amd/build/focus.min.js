/**
 * Focus ltool define js.
 * @module   ltool_focus
 * @copyright 2021, bdecent gmbh bdecent.de
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("ltool_focus/focus",["jquery","core/ajax"],(function($,Ajax){var LearningToolFocus=function(focusMode){var self=this,focusBlock=document.querySelector(".ltoolfocus-info"),focusInfo=document.querySelector(".ltoolfocus-info #ltoolfocus-action");if(focusMode&&(self.addFocusMode(focusBlock),self.disableButton&&self.disableButton.classList.contains("d-none")&&self.disableButton.classList.remove("d-none")),focusInfo){focusInfo.addEventListener("click",(function(){focusBlock&&(focusBlock.classList.contains("enable")?(focusBlock.classList.remove("enable"),self.focusModeAction(0),self.removeFocusMode()):(focusBlock.classList.add("enable"),self.focusModeAction(1),self.addFocusMode(focusBlock)))}));var focushovercolor=focusInfo.getAttribute("data-hovercolor"),focusfontcolor=focusInfo.getAttribute("data-fontcolor");focushovercolor&&focusfontcolor&&focusInfo.addEventListener("mouseover",(function(){document.querySelector("#ltoolfocus-info p").style.background=focushovercolor,document.querySelector("#ltoolfocus-info p").style.color=focusfontcolor}))}self.disableButton&&self.disableButton.addEventListener("click",(function(){self.focusModeAction(0),self.removeFocusMode()}))};return LearningToolFocus.prototype.disableButton=document.querySelector("#page-wrapper #disable-focusmode"),LearningToolFocus.prototype.addFocusMode=function(element){var focusCssUrl=element.getAttribute("data-focuscssurl"),focusCssLink=document.querySelectorAll("#page-header link#ltool-focuscss")[0];focusCssLink&&focusCssLink.setAttribute("href",focusCssUrl),this.loadEnableFocusmode()},LearningToolFocus.prototype.removeFocusMode=function(){var focusCssLink=document.querySelectorAll("#page-header link#ltool-focuscss")[0];focusCssLink&&focusCssLink.setAttribute("href","");var focusBlock=document.querySelector(".ltoolfocus-info");focusBlock.classList.contains("enable")&&focusBlock.classList.remove("enable"),this.loadDisableFocusmode()},LearningToolFocus.prototype.loadDisableFocusmode=function(){this.disableButton&&(this.disableButton.classList.contains("d-none")||this.disableButton.classList.add("d-none"))},LearningToolFocus.prototype.loadEnableFocusmode=function(){var body=document.querySelector("body");body&&(body.classList.contains("drawer-open-left")||body.classList.remove("drawer-open-left")),this.disableButton&&this.disableButton.classList.remove("d-none")},LearningToolFocus.prototype.focusModeAction=function(status){Ajax.call([{methodname:"ltool_focus_save_userfocusmode",args:{status:status},done:function(){return!0}}])},{init:function(focusMode){return new LearningToolFocus(focusMode)}}}));

//# sourceMappingURL=focus.min.js.map